   1               		.file	"uart.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               	.global	initialize_uart
  12               	initialize_uart:
  13               	.LFB1:
  14               		.file 1 "uart.c"
   1:uart.c        **** //
   2:uart.c        **** // Created by Shidfar Hodizoda on 14/04/2018.
   3:uart.c        **** //
   4:uart.c        **** 
   5:uart.c        **** #ifndef __AVR_ATmega328P__
   6:uart.c        **** #define __AVR_ATmega328P__
   7:uart.c        **** #endif
   8:uart.c        **** 
   9:uart.c        **** #include <avr/io.h>
  10:uart.c        **** #include <stdio.h>
  11:uart.c        **** 
  12:uart.c        **** #define F_CPU 16000000UL
  13:uart.c        **** #define BAUD  9600// 115200
  14:uart.c        **** 
  15:uart.c        **** #include <util/setbaud.h>
  16:uart.c        **** 
  17:uart.c        **** void initialize_uart(void) {
  15               		.loc 1 17 0
  16               		.cfi_startproc
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19               	/* stack size = 0 */
  20               	.L__stack_usage = 0
  18:uart.c        ****     UBRR0H = UBRRH_VALUE;
  21               		.loc 1 18 0
  22 0000 1092 C500 		sts 197,__zero_reg__
  19:uart.c        ****     UBRR0L = UBRRL_VALUE;
  23               		.loc 1 19 0
  24 0004 87E6      		ldi r24,lo8(103)
  25 0006 8093 C400 		sts 196,r24
  20:uart.c        **** #if USE_2X
  21:uart.c        ****     UCSR0A |= _BV(U2X0);
  22:uart.c        **** #else
  23:uart.c        ****     UCSR0A &= ~(_BV(U2X0));
  26               		.loc 1 23 0
  27 000a E0EC      		ldi r30,lo8(-64)
  28 000c F0E0      		ldi r31,0
  29 000e 8081      		ld r24,Z
  30 0010 8D7F      		andi r24,lo8(-3)
  31 0012 8083      		st Z,r24
  24:uart.c        **** #endif
  25:uart.c        **** 
  26:uart.c        ****     UCSR0C = _BV(UCSZ01) | _BV(UCSZ00); /* 8-bit data */
  32               		.loc 1 26 0
  33 0014 86E0      		ldi r24,lo8(6)
  34 0016 8093 C200 		sts 194,r24
  27:uart.c        ****     UCSR0B = _BV(RXEN0) | _BV(TXEN0);   /* Enable RX and TX */
  35               		.loc 1 27 0
  36 001a 88E1      		ldi r24,lo8(24)
  37 001c 8093 C100 		sts 193,r24
  38               	/* epilogue start */
  28:uart.c        **** }
  39               		.loc 1 28 0
  40 0020 0895      		ret
  41               		.cfi_endproc
  42               	.LFE1:
  44               	.global	uart_putchar
  46               	uart_putchar:
  47               	.LFB2:
  29:uart.c        **** 
  30:uart.c        **** int uart_putchar(char c, FILE *stream) {
  48               		.loc 1 30 0
  49               		.cfi_startproc
  50               	.LVL0:
  51 0022 CF93      		push r28
  52               	.LCFI0:
  53               		.cfi_def_cfa_offset 3
  54               		.cfi_offset 28, -2
  55               	/* prologue: function */
  56               	/* frame size = 0 */
  57               	/* stack size = 1 */
  58               	.L__stack_usage = 1
  59 0024 C82F      		mov r28,r24
  31:uart.c        ****     if (c == '\n') {
  60               		.loc 1 31 0
  61 0026 8A30      		cpi r24,lo8(10)
  62 0028 01F4      		brne .L4
  32:uart.c        ****         uart_putchar('\r', stream);
  63               		.loc 1 32 0
  64 002a 8DE0      		ldi r24,lo8(13)
  65               	.LVL1:
  66 002c 00D0      		rcall uart_putchar
  67               	.LVL2:
  68               	.L4:
  33:uart.c        ****     }
  34:uart.c        ****     loop_until_bit_is_set(UCSR0A, UDRE0);
  69               		.loc 1 34 0 discriminator 1
  70 002e 8091 C000 		lds r24,192
  71 0032 85FF      		sbrs r24,5
  72 0034 00C0      		rjmp .L4
  35:uart.c        ****     UDR0 = c;
  73               		.loc 1 35 0
  74 0036 C093 C600 		sts 198,r28
  36:uart.c        ****     return 0;
  37:uart.c        **** }
  75               		.loc 1 37 0
  76 003a 90E0      		ldi r25,0
  77 003c 80E0      		ldi r24,0
  78               	/* epilogue start */
  79 003e CF91      		pop r28
  80               	.LVL3:
  81 0040 0895      		ret
  82               		.cfi_endproc
  83               	.LFE2:
  85               	.global	uart_getchar
  87               	uart_getchar:
  88               	.LFB3:
  38:uart.c        **** 
  39:uart.c        **** int uart_getchar(FILE *stream) {
  89               		.loc 1 39 0
  90               		.cfi_startproc
  91               	/* prologue: function */
  92               	/* frame size = 0 */
  93               	/* stack size = 0 */
  94               	.L__stack_usage = 0
  95               	.LVL4:
  96               	.L8:
  40:uart.c        ****     loop_until_bit_is_set(UCSR0A, RXC0); /* Wait until data exists. */
  97               		.loc 1 40 0 discriminator 1
  98 0042 8091 C000 		lds r24,192
  99 0046 87FF      		sbrs r24,7
 100 0048 00C0      		rjmp .L8
  41:uart.c        ****     return UDR0;
 101               		.loc 1 41 0
 102 004a 8091 C600 		lds r24,198
  42:uart.c        **** }
 103               		.loc 1 42 0
 104 004e 90E0      		ldi r25,0
 105               	/* epilogue start */
 106 0050 0895      		ret
 107               		.cfi_endproc
 108               	.LFE3:
 110               	.Letext0:
 111               		.file 2 "/usr/local/avr/avr/include/stdint.h"
 112               		.file 3 "/usr/local/avr/avr/include/stdio.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 uart.c
/var/folders/ps/f9b6s3v573j5mv6068z2gls80000gn/T//ccbvoS7g.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/ps/f9b6s3v573j5mv6068z2gls80000gn/T//ccbvoS7g.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/ps/f9b6s3v573j5mv6068z2gls80000gn/T//ccbvoS7g.s:4      *ABS*:000000000000003f __SREG__
/var/folders/ps/f9b6s3v573j5mv6068z2gls80000gn/T//ccbvoS7g.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/folders/ps/f9b6s3v573j5mv6068z2gls80000gn/T//ccbvoS7g.s:6      *ABS*:0000000000000001 __zero_reg__
/var/folders/ps/f9b6s3v573j5mv6068z2gls80000gn/T//ccbvoS7g.s:12     .text:0000000000000000 initialize_uart
/var/folders/ps/f9b6s3v573j5mv6068z2gls80000gn/T//ccbvoS7g.s:46     .text:0000000000000022 uart_putchar
/var/folders/ps/f9b6s3v573j5mv6068z2gls80000gn/T//ccbvoS7g.s:87     .text:0000000000000042 uart_getchar

NO UNDEFINED SYMBOLS
